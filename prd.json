{
  "project": "npm-to-pnpm-migration",
  "goal": "Migrate the Nx monorepo from npm to pnpm package manager",
  "config": {
    "agent": "claude",
    "context": "Nx monorepo with multiple publishable packages under libs/. Uses GitHub Actions for CI.",
    "verification": "pnpm install && pnpm nx run-many -t build lint --projects=tag:publishable"
  },
  "statuses": [
    "pending",
    "in_progress",
    "completed",
    "blocked"
  ],
  "tasks": [
    {
      "id": "1",
      "description": "Create pnpm-workspace.yaml configuration file",
      "status": "completed",
      "steps": [
        "Create pnpm-workspace.yaml at project root",
        "Define packages glob patterns for apps/* and libs/*"
      ]
    },
    {
      "id": "2",
      "description": "Remove package-lock.json and migrate to pnpm-lock.yaml",
      "status": "pending",
      "steps": [
        "Delete package-lock.json",
        "Run pnpm import to convert lock file (or pnpm install if import fails)",
        "Verify pnpm-lock.yaml is created"
      ]
    },
    {
      "id": "3",
      "description": "Update .npmrc for pnpm compatibility",
      "status": "pending",
      "steps": [
        "Check existing .npmrc settings",
        "Add pnpm-specific settings if needed (e.g., shamefully-hoist, strict-peer-dependencies)"
      ]
    },
    {
      "id": "4",
      "description": "Update GitHub Actions CI workflows to use pnpm",
      "status": "pending",
      "steps": [
        "Update ci.yml to use pnpm/action-setup",
        "Update publish.yml to use pnpm",
        "Update chromatic.yml if it uses npm",
        "Replace npm ci with pnpm install --frozen-lockfile"
      ]
    },
    {
      "id": "5",
      "description": "Update package.json scripts that reference npm",
      "status": "pending",
      "steps": [
        "Search for npm references in package.json scripts",
        "Replace npm commands with pnpm equivalents"
      ]
    },
    {
      "id": "6",
      "description": "Update documentation to reference pnpm",
      "status": "pending",
      "steps": [
        "Update README.md with pnpm commands",
        "Update any contributing guides"
      ]
    },
    {
      "id": "7",
      "description": "Add .gitignore entries for pnpm",
      "status": "pending",
      "steps": [
        "Ensure node_modules is ignored",
        "Add .pnpm-store if needed"
      ]
    }
  ]
}
