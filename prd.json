{
  "project": "@okam/ai CLI Package",
  "goal": "Create publishable CLI for AI automation tools, runnable via npx @okam/ai",
  "statuses": ["pending", "in_progress", "completed", "blocked"],
  "tasks": [
    {
      "id": "1",
      "title": "Generate library scaffolding",
      "description": "Run: npx nx g @nx/js:library libs/ai --publishable --importPath=@okam/ai --bundler=esbuild --unitTestRunner=vitest --linter=eslint",
      "status": "completed",
      "notes": "Generated with NX generator. Fixed tsconfig.json module setting (commonjs -> ESNext) for ESM compatibility. Removed library-specific eslint.config.mjs to use root @antfu/eslint-config. Verified build, lint, and test all pass."
    },
    {
      "id": "2",
      "title": "Install commander dependency",
      "description": "Run: npm i commander",
      "status": "completed",
      "notes": "Installed commander@14.0.2. Verified build, lint, and test all still pass."
    },
    {
      "id": "3",
      "title": "Create CLI entry point",
      "description": "Create libs/ai/src/cli.ts with commander setup, imports for ralph/init/archive commands, and program.parse()",
      "status": "completed",
      "notes": "Created cli.ts with commander setup. Command imports are commented out until commands are implemented. Added commander to libs/ai/package.json dependencies. Build, lint, and tests all pass."
    },
    {
      "id": "4",
      "title": "Create init command",
      "description": "Create libs/ai/src/commands/init.ts - creates prd.json template and progress.txt, errors if file exists",
      "status": "pending"
    },
    {
      "id": "5",
      "title": "Create archive command",
      "description": "Create libs/ai/src/commands/archive.ts - moves prd.json and progress.txt to archive/ with timestamp",
      "status": "pending"
    },
    {
      "id": "6",
      "title": "Create ralph command",
      "description": "Create libs/ai/src/commands/ralph.ts - loads config, checks PRD exists, spawns ralph.sh with env vars",
      "status": "pending"
    },
    {
      "id": "7",
      "title": "Create portable ralph.sh script",
      "description": "Create libs/ai/scripts/ralph.sh - reads config from env vars (RALPH_MODEL, RALPH_CONTEXT, RALPH_PRD, RALPH_PROGRESS)",
      "status": "pending"
    },
    {
      "id": "8",
      "title": "Configure project.json build",
      "description": "Update libs/ai/project.json - esbuild executor, platform node, format esm, bundle true, assets for scripts/",
      "status": "pending"
    },
    {
      "id": "9",
      "title": "Configure package.json",
      "description": "Update libs/ai/package.json - add bin field, type module, publishConfig, engines node >=20",
      "status": "pending"
    },
    {
      "id": "10",
      "title": "Add unit tests for init command",
      "description": "Create libs/ai/src/commands/init.spec.ts - test file creation, error on existing file",
      "status": "pending"
    },
    {
      "id": "11",
      "title": "Add unit tests for archive command",
      "description": "Create libs/ai/src/commands/archive.spec.ts - test file move, timestamp format, error handling",
      "status": "pending"
    },
    {
      "id": "12",
      "title": "Add to nx.json release config",
      "description": "Add ai to release.projects array in nx.json",
      "status": "pending"
    },
    {
      "id": "13",
      "title": "Build and verify",
      "description": "Run npx nx build ai, verify dist/libs/ai/cli.js --help works, scripts/ folder present",
      "status": "pending"
    }
  ]
}
