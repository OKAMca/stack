import { Canvas, Meta, Story } from '@storybook/addon-docs'
import { ArgTypes } from '@storybook/blocks'
import Alerts from '.'
import Box from '../Box'
import Typography from '../Typography'

<Meta
  title="Base components/Alerts"
  parameters={{
    layout: 'fullscreen',
    controls: {
      include: ['alerts']
    }
  }}
  component={Alerts}
  args={{
    a11y: {
      nextSlideMessage: 'Next alert',
      prevSlideMessage: 'Previous alert',
    },
    closeButtonAriaLabel: 'Close alerts',
    onOpenChange: (isOpen) => console.log(`Alerts component was ${isOpen ? 'opened' : 'closed'}`),
    onNavigationPrev: () => console.log('Navigated to previous slide'),
    onNavigationNext: () => console.log('Navigated to next slide'),
    alerts: [
      {
        id: '1',
        title: 'Alert 1 title',
        'aria-label': 'Alert 1 aria',
        icon: 'X',
        content: (
          <>
            <Box>
              <Typography tokens={{ size: 'h4' }}>This is alert 1 large content</Typography>
            </Box>
            <Box>
              <Typography tokens={{ size: 'xs' }}>This is alert 1 small content</Typography>
            </Box>
          </>
        )
      },
      {
        id: '2',
        title: 'Alert 2 title',
        'aria-label': 'Alert 2 aria',
        icon: 'YouTube',
      },
      {
        id: '3',
        title: 'Alert 3 title',
        'aria-label': 'Alert 3 aria',
        icon: 'Mail',
      },
    ]
  }}
  argTypes={{
    closeButton: {
      table: {
        defaultValue: {
          summary: 'AlertsCloseButton'
        }
      }
    },
    a11y: {
      description: "React Swiper's accessibility module parameters"
    },
    children: {
      description: 'Function looping through every alert and passing the current alert. Can be used for rendering all alerts wrapping `AlertsItem` in another component',
      table: {
        type: {
          summary: '(alert: TAlertsItem) => React.ReactNode'
        },
        defaultValue: {
          summary: '(alert: TAlertsItem) => <AlertsItem {...alert />}'
        }
      }
    },
    prevButton: {
      description: 'Custom previous button component for the carousel. Falls back to an arrow button',
      table: {
        defaultValue: {
          summary: 'AlertsNavigationButton'
        }
      }
    },
    nextButton: {
      description: 'Custom previous button component for the carousel. Falls back to an arrow button',
      table: {
        defaultValue: {
          summary: 'AlertsNavigationButton'
        }
      }
    },
    setOpen: {
      description: 'For controlled states'
    },
    onOpenChange: {
      table: {
        type: {
          summary: '(isOpen) => void'
        }
      },
      description: 'Triggered when the alerts are closed or opened'
    }
  }}
/>

export const Template = (args) => (
  <Alerts {...args} />
)

# Alerts

### A closable and navigable carousel showcasing multiple alerts

## Props

<ArgTypes include={[
  'alerts',
  'onOpenChange',
  'a11y',
  'closeButtonAriaLabel',
  'setOpen',
  'nextButton',
  'prevButton',
  'closeButton',
  'transitionComponent',
  'themeName',
  'tokens',
  'customTheme',
  'as',
  'onSwiper',
  'onNavigationPrev',
  'onNavigationNext',
  'children',
]} />

## Showcase

### Default

<Canvas>
  <Story
    name="Default"
  >
    {Template.bind({})}
  </Story>
</Canvas>