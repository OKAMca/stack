{/* Checkbox.stories.mdx */}
import { Canvas, Meta, Story } from '@storybook/addon-docs'
import Checkbox from './index'
import Check from '../../icons/Check'
import Button from '../../Button'
import { useState } from 'react'

<Meta
  title="Form/Fields/Checkbox"
  component={Checkbox}
  args={{
    label: 'This is a checkbox label',
    name: 'checkbox',
    ariaLabel: 'checkbox-label',
    onChange: (isSelected) => console.log(`isSelected: ${isSelected}`),
  }}
/>

export const Template = (args) => <Checkbox {...args} />

export const TemplateWithButton = (args) => {
  const [checked, setChecked] = useState(args?.defaultSelected ?? false)
  const { onChange, ...restOfArgs } = args
  return (
    <div className={`flex gap-4 items-center`}>
      <Checkbox
        isSelected={checked}
        onChange={(isSelected) => {
          setChecked(!checked)
          onChange(isSelected)
        }}
        {...restOfArgs}
      />
      <Button handlePress={() => setChecked(!checked)}>Click to check</Button>
    </div>
  )
}

# Checkbox

Checkbox component.

## Default

<Canvas>
  <Story
    name="Default"
    args={{
      id: 'checkbox-1',
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

## Color variant

<Canvas>
  <Story
    name="Gray"
    args={{
      id: 'checkbox-8',
      tokens: {
        color: 'gray',
      },
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

## With icon

<Canvas>
  <Story
    name="With icon"
    args={{
      id: 'checkbox-2',
      icon: <Check />,
      defaultSelected: true,
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

## Disabled

<Canvas>
  <Story
    name="Disabled"
    args={{
      id: 'checkbox-3',
      isDisabled: true,
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

## Error

<Canvas>
  <Story
    name="Error"
    args={{
      id: 'checkbox-4',
      isError: true,
      errorMessage: 'This is an error message',
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

## Check from other component

<Canvas>
  <Story
    name="Check from other component"
    args={{
      id: 'checkbox-5',
    }}
  >
    {TemplateWithButton.bind({})}
  </Story>
</Canvas>
