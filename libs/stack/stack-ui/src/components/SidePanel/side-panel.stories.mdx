{/* side-panel.stories.mdx */}

import { Canvas, Meta, Story } from '@storybook/addon-docs'
import { ButtonWithForwardRef } from '../Button'
import SidePanel from './'
import { SidePanelContextProvider, useSidePanel } from '../../providers/SidePanel'

<Meta 
  title="BASE COMPONENTS/Side Panel" 
  component={SidePanel} 
  args={{
    
  }}
/>

export const SidePanelControl = () => {
  const { buttonProps } = useSidePanel()
  if (buttonProps == null) {
    return null
  }
  return (
    <ButtonWithForwardRef variant="black" {...buttonProps?.openButtonProps} ref={buttonProps?.openButtonRef}>
      Open
    </ButtonWithForwardRef>
  )
}

export const Template = (args) => (
  <SidePanelContextProvider 
    onOpenCallback={() => console.log('Side panel is now opened!')}
    onCloseCallback={() => console.log('Side panel is now closed!')}
  >
    <SidePanelControl />
    <SidePanel {...args}>
      <div>Hello world!</div>
    </SidePanel>
  </SidePanelContextProvider>
)

# Side Panel

<Canvas>
  <Story name="Default">{Template.bind({})}</Story>
</Canvas>
